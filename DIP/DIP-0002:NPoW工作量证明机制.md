# NPoW工作量证明机制
## 概括:
NPoW(Next-gen Proof-of-Work)机制: 一种链上有用工作量证明机制，节点通过执行Web3任务来获得DPR奖励，相比质押奖励或区块奖励方法，它更加节能、去中心化和实际经济效用。需求方燃烧EZC来使用服务提供方的服务，通过EZC积分凭证作为服务提供方的工作证明。
## 动机:
为Deeper-Chain提供一种用于激励节点维持工作的机制，用良性可持续的工作任务来激励节点赚取收益，逐步取代原先按照质押分配收益的方法。
## 利益相关者:
Deeper设备节点用户和各类应用使用者。
## 原理阐述:
将服务或应用下发给有限/所有节点进行执行，用户销毁任务所需的EZC，同时生成相应的DPR奖励。当节点完成任务后，DPR奖励将分发给完成任务的节点。
## 详细设计:
传统工作量证明常用散列函数进行复杂计算，其正向穷举过程复杂，验证过程相对简单，达成工作量证明。其缺点在于：完成运算并未产生实际收益价值，其工作结果不能为他人提供经济利益。
我们提出：有用的工作量证明机制，通过去中心化节点执行Web3任务，需求方燃烧相应的EZC，以经济手段来证明工作量；其工作结果可为他人产生实际价值，实现合理有效的利用硬件资源；任务分发的随机性和匿名性，确保当作弊事件发生时，难以控制获利的预期收益，以经济成本限制作弊行为的发生。
### 1. 收益来源
收益来源于应用或服务的需求方，用户使用某项服务销毁相应的EZC。智能合约收到服务请求和足额的EZC后，按照指令向有限/所有节点发送任务执行请求。利用burn()销毁本次支付的EZC，减少EZC_Total_Supply总供应量，销毁的EZC作为凭证存入本次任务详情。
### 2. 分配方法
服务提供方会从智能合约收到本次服务的EZC凭证，若存在多个Server Providers时，则本次服务的EZC积分平均分发给有效的Providers。判定有效Provider的标准：服务过程中能否持续接受并成功完成随机挑战。
### 3. 激励机制
考虑前期任务不足、参与节点数不多的情况下，将DPR补贴用于激励应用生态的发展，向NPoW形式发放5%的总收益奖励，即每日2,460,000DPR，当前分配占比暂定：
|  Rewards Method   | Maximum Allocation  |  Total Daily DPR  |
|  ----  | ---- |  ---- |
|  NPoW  | 25%  | 1,025,000 |
|  PoCr  | 60%  | 2,460,000 |
|  Validator  | 15%  | 615,000 |  

当节点工作量不足时（≤100 DPR），根据节点每日获得EZC凭证作为贡献大小进行奖励。假设节点A的EZC数量为m，一天内总EZC数量为M，日DPR最大奖励为MaxReward(NPoW)=1,025,000，则有公式：

$$Reward(A) = MaxReward(NPoW)\times{m\over M}$$

当节点工作量足够时（＞100 DPR），将不再视为补贴节点，不参与DPR补贴活动，促进节点获取更高收益。其收益按照EZC数量积分1:1兑换等值相应数量的DPR给与系统奖励。
注：
* 最大分配占比代表这种收益方式的最大预算，而非个人最终收益；
* 当不同收益方式最大分配占比未达到时，多余的DPR将流入国库；
* 根据项目发展及社区意见反馈，每季度允许重新调整不同收益方式的最大分配占比；
## 工程难点和工作量:
* 收益来源和分配，合约开发需要3-4周；
* 激励机制，链上开发工作量2周；
## 缺点:
